<<<<<<< HEAD
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_name %in% c("United States of America"))
View(IP_data_sub)
View(IP_data_sub)
IP_data_sub <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
IP_data <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
View(IP_data)
Covid_data <- read.csv("Covid_data.csv")
IP_data <- read.csv("IP2LOCATION-LITE-DB3.CSV", stringsAsFactors = T)
colnames(IP_data) <- c("ip_from", "ip_to", "country_code", "country_name","region_name","city_name")
Covid_data$ip_class <- ip_classify(Covid_data$ip)
Covid_data$ip_numeric <- ip_to_numeric(Covid_data$ip)
#Getting IP ranges for only US
IP_data <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(c(IP_data$ip_from[i],IP_data$ip_to[i]))
}
}
}
View(Covid_data)
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(c(IP_data$region_name[i],IP_data$city_name[i]))
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(i) #(c(IP_data$region_name[i],IP_data$city_name[i]))
}
}
}
get_Region_and_City(2931940067)
IP_data[654984,]
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(IP_data[i,5],IP_data[i,6])
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(c(IP_data[i,5],IP_data[i,6]))
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(IP_data[,i])
}
}
}
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(IP_data[i])
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(IP_data[i,])
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
a <- IP_data$region_name[i]
b <- IP_data$city_name[i]
return(c(a,b))  #(IP_data[i,])
}
}
}
get_Region_and_City(2931940067)
IP_data$region_name[654984]
library(iptools)
Covid_data <- read.csv("Covid_data.csv")
IP_data <- read.csv("IP2LOCATION-LITE-DB3.CSV")
colnames(IP_data) <- c("ip_from", "ip_to", "country_code", "country_name","region_name","city_name")
Covid_data$ip_class <- ip_classify(Covid_data$ip)
Covid_data$ip_numeric <- ip_to_numeric(Covid_data$ip)
#Getting IP ranges for only US
IP_data <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
#Function to find the IP address location with the two datasets we have
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(c(IP_data$region_name[i],IP_data$city_name[i]))
}
}
}
get_Region_and_City(2931940067)
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if(ip >= IP_data$ip_from[i] & ip <= IP_data$ip_to[i]){
return(c(IP_data$region_name[i],IP_data$city_name[i]))
}
}
return(c(NA,NA))
}
geoloc <- get_Region_and_City(Covid_data$ip)
warnings()
get_Region_and_City <- function(ip){
n <- nrow(IP_data)
for (i in 1:n) {
if((ip >= IP_data$ip_from[i]) & (ip <= IP_data$ip_to[i])){
return(c(IP_data$region_name[i],IP_data$city_name[i]))
}
}
return(c(NA,NA))
}
Covid_data <- Covid_data %>%
group_by(ip_numeric) %>%
arrange(ip_numeric)
get_Region_and_City(90722236)
geoloc <- get_Region_and_City(Covid_data$ip)
get_Region_and_City <- function(ip){
#n <- nrow(IP_data)
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from < ip & ip_to > ip)
#for (i in 1:n) {
#if((ip >= IP_data$ip_from[i]) & (ip <= IP_data$ip_to[i])){
# return(c(IP_data$region_name[i],IP_data$city_name[i]))
#}
#}
return(location)
}
get_Region_and_City(90722236)
geoloc <- get_Region_and_City(Covid_data$ip)
get_Region_and_City <- function(ip){
#n <- nrow(IP_data)
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
#for (i in 1:n) {
#if((ip >= IP_data$ip_from[i]) & (ip <= IP_data$ip_to[i])){
# return(c(IP_data$region_name[i],IP_data$city_name[i]))
#}
#}
return(location)
}
Covid_data$ip[1]
View(Covid_data)
get_Region_and_City(Covid_data$ip_numeric)
Covid_data$ip_numeric[1]
get_Region_and_City(Covid_data$ip_numeric[1])
Covid_data$ip_numeric[100]
Covid_data$ip_numeric[1000]
get_Region_and_City(Covid_data$ip_numeric[1000])
get_Region_and_City <- function(ip){
#n <- nrow(IP_data)
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location(,c(3,4))
#for (i in 1:n) {
#if((ip >= IP_data$ip_from[i]) & (ip <= IP_data$ip_to[i])){
# return(c(IP_data$region_name[i],IP_data$city_name[i]))
#}
#}
return(location)
}
get_Region_and_City(Covid_data$ip_numeric[1000])
get_Region_and_City <- function(ip){
#n <- nrow(IP_data)
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
#for (i in 1:n) {
#if((ip >= IP_data$ip_from[i]) & (ip <= IP_data$ip_to[i])){
# return(c(IP_data$region_name[i],IP_data$city_name[i]))
#}
#}
return(location)
}
get_Region_and_City(Covid_data$ip_numeric[1000])
get_Region_and_City <- function(data){
n <- nrow(data)
lction <- c()
for (i in 1:n) {
lction <- c(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
add_Region_and_City <- function(data){
n <- nrow(data)
lction <- c()
for (i in 1:n) {
lction <- c(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
return(location)
}
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
return(location)
}
add_Region_and_City(Covid_data$ip_numeric[1:10])
Covid_data$ip_numeric[1:10]
length(Covid_data$ip_numeric[1:10])
add_Region_and_City <- function(data){
n <- length(data)
lction <- c()
for (i in 1:n) {
lction <- c(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
add_Region_and_City(Covid_data$ip_numeric[1:10])
add_Region_and_City <- function(data){
n <- length(data)
lction <- as.data.frame()
for (i in 1:n) {
lction <- c(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
add_Region_and_City(Covid_data$ip_numeric[1:10])
add_Region_and_City <- function(data){
n <- length(data)
lction <- c()
for (i in 1:n) {
lction <- c(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
a <- add_Region_and_City(Covid_data$ip_numeric[1:10])
b <- get_Region_and_City(Covid_data$ip_numeric[1000])
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
a <- add_Region_and_City(Covid_data$ip_numeric[1:10])
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
if(nrow(location) != 0){
return(location)
}
return(data.frame( region_name = character(NA),
city_name = character(NA)))
}
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
a <- add_Region_and_City(Covid_data$ip_numeric[1:10])
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
return(location)
}
View(Covid_data)
Covid_data_sub <- Covid_data[complete.cases(Covid_data$ip_class),]
Covid_data_sub <- Covid_data_sub %>%
group_by(ip_numeric) %>%
arrange(ip_numeric)
#Function to find the IP address location with the two datasets we have
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
return(location)
}
b <- get_Region_and_City(Covid_data_sub$ip_numeric[1000])
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
return(lction)
}
a <- add_Region_and_City(Covid_data_sub$ip_numeric[1:10])
Covid_data_sub$ip_numeric[1:10]
n <- Covid_data_sub$ip_numeric[1:10]
n <- length(Covid_data_sub$ip_numeric[1:10])
lction <- data.frame( region_name = character(),
city_name = character())
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[i]))
}
lction <- data.frame( region_name = character(),
city_name = character())
lction <- rbind(lction, get_Region_and_City(Covid_data$ip_numeric[1]))
get_Region_and_City(Covid_data$ip_numeric[1])
Covid_data$ip_numeric[1]
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data_sub$ip_numeric[i]))
}
return(lction)
}
a <- add_Region_and_City(Covid_data_sub$ip_numeric[1:10])
get_Region_and_City(Covid_data_sub$ip_numeric[1])
get_Region_and_City(Covid_data_sub$ip_numeric[2])
get_Region_and_City(Covid_data_sub$ip_numeric[3])
get_Region_and_City(Covid_data_sub$ip_numeric[4])
get_Region_and_City(Covid_data_sub$ip_numeric[5])
get_Region_and_City(Covid_data_sub$ip_numeric[6])
get_Region_and_City(Covid_data_sub$ip_numeric[7])
get_Region_and_City(Covid_data_sub$ip_numeric[8])
get_Region_and_City(Covid_data_sub$ip_numeric[9])
get_Region_and_City(Covid_data_sub$ip_numeric[10])
Covid_data_sub$ip_numeric[7]
data.frame( region_name = "NotComplete",
city_name = "NotComplete")
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
if(nrow(location != 0))(
return(location)
)
return(data.frame( region_name = "NotComplete",
city_name = "NotComplete"))
}
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data_sub$ip_numeric[i]))
}
View(lction)
a <- add_Region_and_City(Covid_data_sub$ip_numeric[1:10])
library(iptools)
Covid_data <- read.csv("Covid_data.csv")
IP_data <- read.csv("IP2LOCATION-LITE-DB3.CSV")
colnames(IP_data) <- c("ip_from", "ip_to", "country_code", "country_name","region_name","city_name")
Covid_data$ip_class <- ip_classify(Covid_data$ip)
Covid_data$ip_numeric <- ip_to_numeric(Covid_data$ip)
#Getting IP ranges for only US
IP_data <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
Covid_data_sub <- Covid_data[complete.cases(Covid_data$ip_class),]
Covid_data_sub <- Covid_data_sub %>%
group_by(ip_numeric) %>%
arrange(ip_numeric)
#Function to find the IP address location with the two datasets we have
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
if(nrow(location != 0))(
return(location)
)
return(data.frame( region_name = "NotComplete",
city_name = "NotComplete"))
}
b <- get_Region_and_City(Covid_data_sub$ip_numeric[1000])
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(Covid_data_sub$ip_numeric[i]))
}
return(lction)
}
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(data[i]))
}
return(lction)
}
loc <- add_Region_and_City(Covid_data_sub$ip_numeric)
loc <- add_Region_and_City(Covid_data_sub$ip_numeric[1:1000])
loc2 <- add_Region_and_City(Covid_data_sub$ip_numeric[1000 : 5000])
Covid_data_sub$ip_numeric[5001]
View(Covid_data_sub)
View(IP_data)
x <- Covid_data_sub$ip_numeric[5001]
IP_data <- IP_data[IP_data$ip_from > x,]
View(IP_data)
loc3 <- add_Region_and_City(Covid_data_sub$ip_numeric[5001:10000])
library(iptools)
Covid_data <- read.csv("Covid_data.csv")
IP_data <- read.csv("IP2LOCATION-LITE-DB3.CSV")
colnames(IP_data) <- c("ip_from", "ip_to", "country_code", "country_name","region_name","city_name")
Covid_data$ip_class <- ip_classify(Covid_data$ip)
Covid_data$ip_numeric <- ip_to_numeric(Covid_data$ip)
#Getting IP ranges for only US
IP_data <- IP_data %>%
select(ip_from, ip_to, country_code, country_name, region_name, city_name) %>%
filter(country_code %in% "US")
Covid_data_sub <- Covid_data[complete.cases(Covid_data$ip_class),]
Covid_data_sub <- Covid_data_sub %>%
group_by(ip_numeric) %>%
arrange(ip_numeric)
#Function to find the IP address location with the two datasets we have
get_Region_and_City <- function(ip){
location <-  IP_data %>%
select(ip_from, ip_to, region_name, city_name) %>%
filter(ip_from <= ip & ip_to >= ip)
location <- location[,c(3,4)]
if(nrow(location != 0))(
return(location)
)
return(data.frame( region_name = "NotComplete",
city_name = "NotComplete"))
}
add_Region_and_City <- function(data){
n <- length(data)
lction <- data.frame( region_name = character(),
city_name = character())
for (i in 1:n) {
lction <- rbind(lction, get_Region_and_City(data[i]))
}
return(lction)
}
loc1 <- add_Region_and_City(Covid_data_sub$ip_numeric[1:1000])
loc2 <- add_Region_and_City(Covid_data_sub$ip_numeric[1000 : 5000])
x <- Covid_data_sub$ip_numeric[5000]
IP_data <- IP_data[IP_data$ip_from >= x,]
loc3 <- add_Region_and_City(Covid_data_sub$ip_numeric[5001:10000])
loc2 <- add_Region_and_City(Covid_data_sub$ip_numeric[1001 : 5000])
x <- Covid_data_sub$ip_numeric[5000]
IP_data <- IP_data[IP_data$ip_from >= x,]
loc3 <- add_Region_and_City(Covid_data_sub$ip_numeric[10000:11000])
loc3 <- add_Region_and_City(Covid_data_sub$ip_numeric[15000:16000])
loc3 <- add_Region_and_City(Covid_data_sub$ip_numeric[10000:11000])
loc4 <- add_Region_and_City(Covid_data_sub$ip_numeric[15000:16000])
GeoLocations <- rbind(loc1,loc1,loc3,loc4)
loc4 <- add_Region_and_City(Covid_data_sub$ip_numeric[10001:18000])
loc5 <- add_Region_and_City(Covid_data_sub$ip_numeric[10001:18000])
tm_shape(world) + tm_polygons() +
tm_shape(urban_agglomerations) + tm_dots(size = "population_millions") +
tm_facets(along = "year", free.coords
tm_shape(world) + tm_polygons() +
tm_shape(urban_agglomerations) + tm_dots(size = "population_millions") +
tm_facets(along = "year", free.coords = FALSE)
newData <- Covid_data_sub[c(1:1000,1001 : 5000,10000:11000,15000:16000, 10001:18000), ]
loc6 <- add_Region_and_City(Covid_data_sub$ip_numeric[25000:28000])
GeoLocations <- rbind(loc1,loc1, loc5, loc6)
newData <- Covid_data_sub[c(1:1000,1001 : 5000,10001:18000,25000:28000), ]
GeoLocations <- rbind(loc1,loc2, loc5, loc6)
newData <- c(newData, GeoLocations)
View(newData)
GeoLocations <- rbind(loc1,loc2, loc5, loc6)
newData <- Covid_data_sub[c(1:1000,1001 : 5000,10001:18000,25000:28000), ]
View(newData)
newData <- newData %>%
select(createdAt, faceCovering, gender,healthIssues, mentalHealthImpact,leftHomeTimes,ip_numeric)
newData <- c(newData, GeoLocations)
write.csv(newData, "Country_Region.csv")
=======
levels(infogears_covid_data$virusTest) <- c("notTested", "awaitingResults", "negative", "positive")
levels(infogears_covid_data$gender) <- c("female", "male", "other", "notShared")
#Saving a new dataset with changes above
write.csv(infogears_covid_data, "Covid_data")
View(Covid_data)
View("Covid_data")
levels(infogears_covid_data$gender)
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# replace all "notWantToShare" to "notShared"
infogears_covid_data <- infogears_covid_data %>%
mutate(gender = ifelse(gender == "notWantToShare", "notShared", gender))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# reorder levels
levels(infogears_covid_data$healthIssues) <- c("noIssues", "someIssues", "chronicIssues")
levels(infogears_covid_data$mentalHealthImpact) <- c("noImpact", "someImpace", "significantImpact")
levels(infogears_covid_data$virusTest) <- c("notTested", "awaitingResults", "negative", "positive")
levels(infogears_covid_data$gender) <- c("female", "male", "other", "notShared")
levels(infogears_covid_data$leftForOther)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv", stringsAsFactors = TRUE)
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# replace all "notWantToShare" to "notShared"
infogears_covid_data <- infogears_covid_data %>%
mutate(gender = ifelse(gender == "notWantToShare", "notShared", gender))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# reorder levels
levels(infogears_covid_data$healthIssues) <- c("noIssues", "someIssues", "chronicIssues")
levels(infogears_covid_data$mentalHealthImpact) <- c("noImpact", "someImpace", "significantImpact")
levels(infogears_covid_data$virusTest) <- c("notTested", "awaitingResults", "negative", "positive")
levels(infogears_covid_data$gender) <- c("female", "male", "other", "notShared")
#Saving a new dataset with changes above
write.csv(infogears_covid_data, "Covid_data")
levels(infogears_covid_data$leftForWork)
levels(as.factor(infogears_covid_data$leftForWork))
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# replace all "notWantToShare" to "notShared"
infogears_covid_data <- infogears_covid_data %>%
mutate(gender = ifelse(gender == "notWantToShare", "notShared", gender))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
# negative, notTested, positive
infogears_covid_data$antibodyTest <-
as.factor(infogears_covid_data$antibodyTest)
# doNotKnow, haveDirectContact
infogears_covid_data$exposureLevel <-
as.factor(infogears_covid_data$exposureLevel)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
# chronicIssues, noIssues, someIssues
infogears_covid_data$healthIssues <-
as.factor(infogears_covid_data$healthIssues)
# didNotLeave, oneTime, twoTimesOrMore
infogears_covid_data$leftHomeTimes <-
as.factor(infogears_covid_data$leftHomeTimes)
# noImpact, significantImpact, someImpact
infogears_covid_data$mentalHealthImpact <-
as.factor(infogears_covid_data$mentalHealthImpact)
# awaitingResults, negative, notTested, positive
infogears_covid_data$virusTest <-
as.factor(infogears_covid_data$virusTest)
# 0, 1
infogears_covid_data$bodyAche <-
as.factor(infogears_covid_data$bodyAche)
# 0, 1
infogears_covid_data$diarrhea <-
as.factor(infogears_covid_data$diarrhea)
# 0, 1
infogears_covid_data$difficultyBreathing <-
as.factor(infogears_covid_data$difficultyBreathing)
# 0, 1
infogears_covid_data$disorientation <-
as.factor(infogears_covid_data$disorientation)
# 0, 1
infogears_covid_data$fatigue <-
as.factor(infogears_covid_data$fatigue)
# 0, 1
infogears_covid_data$headAche <-
as.factor(infogears_covid_data$headAche)
# 0, 1
infogears_covid_data$irritatedEyes <-
as.factor(infogears_covid_data$irritatedEyes)
# 0, 1
infogears_covid_data$lossOfSmell <-
as.factor(infogears_covid_data$lossOfSmell)
# 0, 1
infogears_covid_data$persistentCough <-
as.factor(infogears_covid_data$persistentCough)
# 0, 1
infogears_covid_data$soreThroat <-
as.factor(infogears_covid_data$soreThroat)
# 0, 1
infogears_covid_data$temperature <-
as.factor(infogears_covid_data$temperature)
# 0, 1
infogears_covid_data$leftForExercise <-
as.factor(infogears_covid_data$leftForExercise)
# 0, 1
infogears_covid_data$leftForShopping <-
as.factor(infogears_covid_data$leftForShopping)
# 0, 1
infogears_covid_data$leftForWork <-
as.factor(infogears_covid_data$leftForWork)
infogears_covid_data$faceCovering <-
as.factor(infogears_covid_data$faceCovering)
# reorder levels
levels(infogears_covid_data$healthIssues) <- c("noIssues", "someIssues", "chronicIssues")
levels(infogears_covid_data$mentalHealthImpact) <- c("noImpact", "someImpace", "significantImpact")
levels(infogears_covid_data$virusTest) <- c("notTested", "awaitingResults", "negative", "positive")
levels(infogears_covid_data$gender) <- c("female", "male", "other", "notShared")
#Saving a new dataset with changes above
write.csv(infogears_covid_data, "Covid_data")
levels(infogears_covid_data$leftForWork)
levles(infogears_covid_data$gender)
levels(infogears_covid_data$gender)
levles(infogears_covid_data$healthIssues)
levels(infogears_covid_data$healthIssues)
levels(infogears_covid_data$Person_Wellness )
levels(infogears_covid_data$antibodyTest )
levles(infogears_covid_data$exposureLevel )
levels(infogears_covid_data$exposureLevel )
levels(infogears_covid_data$gender)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.character(infogears_covid_data$gender)
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
levels(infogears_covid_data$gender))
levels(infogears_covid_data$gender)
levles(infogears_covid_data$gender) <- c("female", "male", "notShared", "notWantToShare", "other")
levels(infogears_covid_data$gender) <- c("female", "male", "notShared", "notWantToShare", "other")
levels(infogears_covid_data$gender)
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
# negative, notTested, positive
infogears_covid_data$antibodyTest <-
as.factor(infogears_covid_data$antibodyTest)
# doNotKnow, haveDirectContact
infogears_covid_data$exposureLevel <-
as.factor(infogears_covid_data$exposureLevel)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
levels(infogears_covid_data$gender)
# replace all "notWantToShare" to "notShared"
infogears_covid_data <- infogears_covid_data %>%
mutate(gender = ifelse(gender == "notWantToShare", "notShared", gender))
levels(infogears_covid_data$gender)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
levels(infogears_covid_data$gender)
levels(infogears_covid_data$gender) <- c("female", "male", "notShared", "notWantToShare", "other")
levels(infogears_covid_data$gender)
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
# negative, notTested, positive
infogears_covid_data$antibodyTest <-
as.factor(infogears_covid_data$antibodyTest)
# doNotKnow, haveDirectContact
infogears_covid_data$exposureLevel <-
as.factor(infogears_covid_data$exposureLevel)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
# negative, notTested, positive
infogears_covid_data$antibodyTest <-
as.factor(infogears_covid_data$antibodyTest)
# doNotKnow, haveDirectContact
infogears_covid_data$exposureLevel <-
as.factor(infogears_covid_data$exposureLevel)
levels(infogears_covid_data$gender)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
str(infogears_covid_data)
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
levels(infogears_covid_data$gender)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
# replace all "notWantToShare" to "notShared"
infogears_covid_data <- infogears_covid_data %>%
mutate(gender = ifelse(gender == "notWantToShare", "notShared", gender))
levels(infogears_covid_data$gender)
# 0, 1
infogears_covid_data$bodyAche <-
as.factor(infogears_covid_data$bodyAche)
# 0, 1
infogears_covid_data$diarrhea <-
as.factor(infogears_covid_data$diarrhea)
# 0, 1
infogears_covid_data$difficultyBreathing <-
as.factor(infogears_covid_data$difficultyBreathing)
# 0, 1
infogears_covid_data$disorientation <-
as.factor(infogears_covid_data$disorientation)
# 0, 1
infogears_covid_data$fatigue <-
as.factor(infogears_covid_data$fatigue)
# 0, 1
infogears_covid_data$headAche <-
as.factor(infogears_covid_data$headAche)
# 0, 1
infogears_covid_data$irritatedEyes <-
as.factor(infogears_covid_data$irritatedEyes)
# 0, 1
infogears_covid_data$lossOfSmell <-
as.factor(infogears_covid_data$lossOfSmell)
# 0, 1
infogears_covid_data$persistentCough <-
as.factor(infogears_covid_data$persistentCough)
# 0, 1
infogears_covid_data$soreThroat <-
as.factor(infogears_covid_data$soreThroat)
# 0, 1
infogears_covid_data$temperature <-
as.factor(infogears_covid_data$temperature)
# 0, 1
infogears_covid_data$leftForExercise <-
as.factor(infogears_covid_data$leftForExercise)
# 0, 1
infogears_covid_data$leftForShopping <-
as.factor(infogears_covid_data$leftForShopping)
# 0, 1
infogears_covid_data$leftForWork <-
as.factor(infogears_covid_data$leftForWork)
infogears_covid_data$faceCovering <-
as.factor(infogears_covid_data$faceCovering)
# reorder levels
levels(infogears_covid_data$healthIssues) <- c("noIssues", "someIssues", "chronicIssues")
#Saving a new dataset with changes above
write.csv(infogears_covid_data, "Covid_data")
View("Covid_data")
shiny::runApp()
Vies("Covid_data")
View("Covid_data")
runApp()
Covid_data <- read.csv("Covid_data")
Covid_data <- read.csv("Covid_data")
View("Covid_data")
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
# import libraries
library(dplyr)
library(ggplot2)
library(readxl)
library(writexl)
# import datasets
infogears_covid_data <- read.csv("covid-07-13-2020.csv")
# data cleaning
# replace all "didNotLefts" to "didNotLeave" in lefHomeTimes
infogears_covid_data <- infogears_covid_data %>%
mutate(leftHomeTimes = ifelse(leftHomeTimes == "didNotLeft", "didNotLeave", leftHomeTimes))
# add Person_Wellness depending on having symptoms
infogears_covid_data <- infogears_covid_data %>%
mutate(Person_Wellness = ifelse(noSymptoms == 1, "No symptoms", "Some symptoms"))
# add Age
# "13_17" "18_25" "26_35" "36_45" "46_55" "56_65" "66_75" "75_and_more"
infogears_covid_data$Age <-
str_extract_all(infogears_covid_data$X.age, pattern = "[0-9]{2}.*")
infogears_covid_data$Age <- as.character(infogears_covid_data$Age)
infogears_covid_data$Age <- as.factor(infogears_covid_data$Age)
levels(infogears_covid_data$Age)
# categorical variable
# no sypmtoms, some symptoms
infogears_covid_data$Person_Wellness <-
as.factor(infogears_covid_data$Person_Wellness)
# female, male, notShared, notWantToShare, other
infogears_covid_data$gender <-
as.factor(infogears_covid_data$gender)
# 0, 1
infogears_covid_data$bodyAche <-
as.factor(infogears_covid_data$bodyAche)
# 0, 1
infogears_covid_data$diarrhea <-
as.factor(infogears_covid_data$diarrhea)
# 0, 1
infogears_covid_data$difficultyBreathing <-
as.factor(infogears_covid_data$difficultyBreathing)
# 0, 1
infogears_covid_data$disorientation <-
as.factor(infogears_covid_data$disorientation)
# 0, 1
infogears_covid_data$fatigue <-
as.factor(infogears_covid_data$fatigue)
# 0, 1
infogears_covid_data$headAche <-
as.factor(infogears_covid_data$headAche)
# 0, 1
infogears_covid_data$irritatedEyes <-
as.factor(infogears_covid_data$irritatedEyes)
# 0, 1
infogears_covid_data$lossOfSmell <-
as.factor(infogears_covid_data$lossOfSmell)
# 0, 1
infogears_covid_data$persistentCough <-
as.factor(infogears_covid_data$persistentCough)
# 0, 1
infogears_covid_data$soreThroat <-
as.factor(infogears_covid_data$soreThroat)
# 0, 1
infogears_covid_data$temperature <-
as.factor(infogears_covid_data$temperature)
# 0, 1
infogears_covid_data$leftForExercise <-
as.factor(infogears_covid_data$leftForExercise)
# 0, 1
infogears_covid_data$leftForShopping <-
as.factor(infogears_covid_data$leftForShopping)
# 0, 1
infogears_covid_data$leftForWork <-
as.factor(infogears_covid_data$leftForWork)
infogears_covid_data$faceCovering <-
as.factor(infogears_covid_data$faceCovering)
# reorder levels
levels(infogears_covid_data$healthIssues) <- c("noIssues", "someIssues", "chronicIssues")
levels(infogears_covid_data$mentalHealthImpact) <- c("noImpact", "someImpace", "significantImpact")
levels(infogears_covid_data$virusTest) <- c("notTested", "awaitingResults", "negative", "positive")
#Saving a new dataset with changes above
write.csv(infogears_covid_data, "Covid_data")
Covid_data <- read.csv("Covid_data")
View("Covid_data")
View(Covid_data)
View(Covid_data)
View(Covid_data)
Veiw("Covid_data")
View("Covid_data")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('test')
runApp()
runApp()
runApp()
runApp('test')
navbarPage("App Title",
tabPanel("Plot"),
tabPanel("Summary"),
tabPanel("Table")
)
install.packages("shinyUI")
install.packages("shinyUI")
updateR()
install.packages("installr")
>>>>>>> 41182ed8408eb871e0c029c24e90d896c9212726
